<mat-tab-group mat-stretch-tabs class="example-stretched-tabs mat-elevation-z4" (selectedTabChange)="onLinkClick($event)">
  <mat-tab *ngFor='let value of allGroupInfo;' label={{value.des}}>


    <mat-accordion>
      <mat-expansion-panel *ngFor='let grpName of grpNameArr;'>
        <mat-expansion-panel-header (click)="showTeamMembersForGroup(grpName)">
          <mat-panel-title>
            {{grpName}}
          </mat-panel-title>
          <mat-panel-description>
            Details about {{grpName}} members:
          </mat-panel-description>
        </mat-expansion-panel-header>

        <mat-progress-bar mode="indeterminate" *ngIf="isLoaded === true"></mat-progress-bar>

        <mat-list>

          <mat-accordion>
            <mat-expansion-panel *ngFor='let userName of usersDetail;' class="internalUserDetail">
              <mat-expansion-panel-header (click)="getUserDetailFor(userName.userName); getAllAssignedAssets(userName.userName)">
                <mat-panel-title>
                  {{userName.fullName}}
                </mat-panel-title>
                <mat-panel-description>
                  Details about {{userName.fullName}}:
                </mat-panel-description>
              </mat-expansion-panel-header>

              <mat-progress-bar mode="indeterminate" *ngIf="isUserLoaded === true"></mat-progress-bar>

              <div *ngFor='let user of userAllDetail;'>
                <mat-list>
                  <mat-list-item *ngFor="let item of generateArray(user)">
                    <h4 *ngIf="item.key === 'employeeNumber'">Employee ID:&nbsp;</h4>
                    <h4 *ngIf="item.key === 'firstName'">First Name:&nbsp;</h4>
                    <h4 *ngIf="item.key === 'lastName'">Last Name:&nbsp;</h4>
                    <h4 *ngIf="item.key === 'fullName'">Full Name:&nbsp;</h4>
                    <h4 *ngIf="item.key === 'email'">Email:&nbsp;</h4>
                    <h4 *ngIf="item.key === 'emergencyContactName'">Emergency Contact Name:&nbsp;</h4>
                    <h4 *ngIf="item.key === 'emergencyContactNumber'">Emergency Contact Number:&nbsp;</h4>
                    <h4 *ngIf="item.key === 'contactNumber'">Primary Contact:&nbsp;</h4>
                    <h4 *ngIf="item.key === 'postalAddress'">Postal Address:&nbsp;</h4>
                    <h4 *ngIf="item.key === 'userName'">User Name:&nbsp;</h4>
                    <h4 *ngIf="item.key === 'groups'">Groups:&nbsp;</h4> {{item.value}} </mat-list-item>
                </mat-list>
                <br>
                <mat-expansion-panel>
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      Assigend Assets
                    </mat-panel-title>
                    <mat-panel-description>
                      Assined Assets Details:
                    </mat-panel-description>
                  </mat-expansion-panel-header>

                  <mat-list *ngFor='let value of assinedAssetsInfo;'>
                    <mat-list-item>
                      <h4 *ngIf="value.name   != ''">&nbsp;Name:&nbsp; </h4>
                      <p> {{value.name}}</p>
                      <h4 *ngIf="value.brand   != ''">&nbsp;brand:&nbsp; </h4>
                      <p> {{value.brand}}</p>
                      <h4 *ngIf="value.model   != ''">&nbsp;Model:&nbsp; </h4>
                      <p> {{value.model}}</p>
                      <h4 *ngIf="value.serial   != ''">&nbsp;Serial:&nbsp; </h4>
                      <p> {{value.serial}}</p>
                      <h4 *ngIf="value.processor   != ''">&nbsp;Processor:&nbsp; </h4>
                      <p> {{value.processor}}</p>
                      <h4 *ngIf="value.ram   != '0'">&nbsp;RAM:&nbsp; </h4>
                      <p> {{value.ram}}</p>
                      <h4 *ngIf="value.hd_type   != ''">&nbsp;HD Type:&nbsp; </h4>
                      <p> {{value.hd_type}}</p>
                      <h4 *ngIf="value.hd_size   != '0'">&nbsp;HD Size:&nbsp; </ h4>
                        <p> {{value.hd_size}}</p>
                        <h4 *ngIf="value.os_version   != ''">&nbsp;OS Version:&nbsp; </ h4>
                          <p> {{value.os_version}}</p>
                          <h4 *ngIf="value.os_type   != ''">&nbsp;OS Type:&nbsp; </ h4>
                            <p> {{value.os_type}}</p>
                            <h4 *ngIf="value.comments   != ''">&nbsp;Comments:&nbsp; </ h4>
                              <p> {{value.comments}}</p>
                              <h4 *ngIf="value.imei   != '0'">&nbsp;IMEI:&nbsp; </ h4>
                                <p> {{value.imei}}</p>
                    </mat-list-item>
                    <mat-divider></mat-divider>

                  </mat-list>

                  <h4 class="row" *ngIf="assinedAssetsInfo?.length == 0">Looks like this user have no assinged asset. Please contact your Administrator to assign one.</h4>

                </mat-expansion-panel>

              </div>

            </mat-expansion-panel>

          </mat-accordion>

        </mat-list>

      </mat-expansion-panel>

    </mat-accordion>

  </mat-tab>

</mat-tab-group>
